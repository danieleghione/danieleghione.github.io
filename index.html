<html>
  <head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/web3@1.3.0/dist/web3.min.js"></script>
    <script>
      // Connessione alla mainnet di Ethereum
      const web3 = new Web3(new Web3.providers.HttpProvider("https://mainnet.infura.io/v3/d3982e10f32b40f9b64e34b0687ca0c9"));
      
      // ABI dello smart contract
      const abi = [
        {
          "inputs": [],
          "stateMutability": "nonpayable",
          "type": "constructor"
        },
        {
          "inputs": [
            {
              "internalType": "string",
              "name": "_ipfsUrl",
              "type": "string"
            }
          ],
          "name": "uploadCurriculum",
          "outputs": [],
          "stateMutability": "nonpayable",
          "type": "function"
        },
        {
          "inputs": [],
          "name": "ScaricaCurriculum",
          "outputs": [
            {
              "internalType": "string",
              "name": "",
              "type": "string"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        }
      ];
      
      // Indirizzo dello smart contract
      const address = "0xf083CA71838b8078d5f0ac8BF296F2C335D12d5d";
      
      // Creazione dell'oggetto contratto
      const contract = new web3.eth.Contract(abi, address);
      
      // Funzione per scaricare il curriculum
      async function downloadCurriculum() {
        // Richiamo la funzione ScaricaCurriculum
        const curriculum = await contract.methods.ScaricaCurriculum().call();
        
        // Creiamo un elemento a con l'output come URL
        const link = document.createElement("a");
        link.href = curriculum;
        link.target = "_blank";
        link.click();
      }
    </script>
  <title>Daniele Ghione
  </title>
  </head>
  <body>
    <p></p>
    <img src="img/GhioneDaniele.jpg" alt="Daniele Ghione">
    <p></p>
    <p>Nota: Il curriculum che verrà scaricato <br>è stato registrato nella Blockchain Ethereum tramite uno smart contract scritto da me.<br>
Il contratto è verificabile su etherscan: 0xf083CA71838b8078d5f0ac8BF296F2C335D12d5d</p>
    <button onclick="downloadCurriculum()">Scarica Curriculum Daniele Ghione</button>
    <p></p>
    <p></p>
    <p>Note: The resume that will be downloaded <br>
was registered in the Ethereum Blockchain via a smart contract developed by me.<br>
The contract is verifiable on etherscan: 0xf083CA71838b8078d5f0ac8BF296F2C335D12d5d</p>
    <button onclick="downloadCurriculum()">Download Resume Daniele Ghione
    
    </button>
  </body>
</html>

